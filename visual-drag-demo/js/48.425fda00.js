"use strict";(self["webpackChunkvisual_drag_demo"]=self["webpackChunkvisual_drag_demo"]||[]).push([[48],{8048:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{overflow:"hidden"}},[e("canvas",{ref:"canvas"})])},l=[],n=i(9254),a={extends:n.A,props:{propValue:{type:Object,required:!0,default:()=>{}},element:{type:Object,default:()=>{}}},data(){return{width:0,height:0,img:null,canvas:null,ctx:null,isFirst:!0}},watch:{"element.style.width":function(){this.drawImage()},"element.style.height":function(){this.drawImage()},"propValue.flip.vertical":function(){this.mirrorFlip()},"propValue.flip.horizontal":function(){this.mirrorFlip()}},mounted(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.drawImage()},methods:{drawImage(){const{width:t,height:e}=this.element.style;this.canvas.width=t,this.canvas.height=e,this.isFirst?(this.isFirst=!1,this.img=document.createElement("img"),this.img.src=this.propValue.url,this.img.onload=()=>{this.ctx.drawImage(this.img,0,0,t,e),this.mirrorFlip()}):this.mirrorFlip()},mirrorFlip(){const{vertical:t,horizontal:e}=this.propValue.flip,{width:i,height:s}=this.element.style,l=e?-1:1,n=t?-1:1;this.ctx.clearRect(0,0,i,s),this.ctx.translate(i/2-i*l/2,s/2-s*n/2),this.ctx.scale(l,n),this.ctx.drawImage(this.img,0,0,i,s),this.ctx.setTransform(1,0,0,1,0,0)}}},h=a,r=i(1656),o=(0,r.A)(h,s,l,!1,null,null,null),c=o.exports},9254:function(t,e,i){i.d(e,{A:function(){return c}});var s,l,n=i(9459),a={props:{linkage:{type:Object,default:()=>{}},element:{type:Object,default:()=>{}}},created(){this.linkage?.data?.length&&(n.A.$on("v-click",this.onClick),n.A.$on("v-hover",this.onHover))},mounted(){const{data:t,duration:e}=this.linkage||{};t?.length&&(this.$el.style.transition=`all ${e}s`)},beforeDestroy(){this.linkage?.data?.length&&(n.A.$off("v-click",this.onClick),n.A.$off("v-hover",this.onHover))},methods:{changeStyle(t=[]){t.forEach((t=>{t.style.forEach((t=>{t.key&&(this.element.style[t.key]=t.value)}))}))},onClick(t){const e=this.linkage.data.filter((e=>e.id===t&&"v-click"===e.event));this.changeStyle(e)},onHover(t){const e=this.linkage.data.filter((e=>e.id===t&&"v-hover"===e.event));this.changeStyle(e)}}},h=a,r=i(1656),o=(0,r.A)(h,s,l,!1,null,null,null),c=o.exports}}]);
//# sourceMappingURL=48.425fda00.js.map